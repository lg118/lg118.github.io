<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        木子李
    </title>
    <link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">
    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css">
<link rel="alternate" href="/atom.xml" title="木子李" type="application/atom+xml">
</head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            Linux学习-03
        </p>
        <hr>
    </div>
    <div class="post-content">
        <h2 id="查询命令"><a href="#查询命令" class="headerlink" title="查询命令"></a>查询命令</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">which 命令   #查询的命令要求是配置了环境变量的。</span><br><span class="line">whereis  命令  #查询命令、源码文件、帮助手册</span><br></pre></td></tr></table></figure>
<h2 id="查询文件"><a href="#查询文件" class="headerlink" title="查询文件"></a>查询文件</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locate 文件名  #locate本地维护了一个数据库，查询的时候根据索引进行文件查找</span><br><span class="line">updatedb  #更新数据库</span><br><span class="line">locate的数据库每天更新一次，为了确保能够准确的查询出文件，建议查询前先更新数据库</span><br><span class="line">----------------------------------</span><br><span class="line">find 根据目录的层次结构进行搜索</span><br><span class="line">find / -name java.txt  #从/开始查找名字是java.txt的文件</span><br><span class="line">find /opt/ -size +100M #从/opt目录中查找大小大于100M的文件</span><br><span class="line">find / -user hadoop #从/开始查找属于hadoop用户的文件</span><br><span class="line">find / -atime -5 #从/开始查找访问时间是5天前的文件</span><br></pre></td></tr></table></figure>
<h2 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">grep [OPTION]... PATTERN [FILE]...</span><br><span class="line">在遇到pattern的地方，*就是正则符号 </span><br><span class="line">---------------------------------------------</span><br><span class="line">-n: #过滤后的内容显示行号</span><br><span class="line">[root@hadoop10 opt]# grep -n 'hello' word.txt </span><br><span class="line">1:hello java</span><br><span class="line"></span><br><span class="line">-o: #仅显示匹配到的内容</span><br><span class="line">[root@hadoop10 opt]# grep -o 'hello' word.txt  </span><br><span class="line">hello</span><br><span class="line"></span><br><span class="line">-i #忽略大小写</span><br><span class="line">[root@hadoop10 opt]# grep -io 'HELLO' word.txt </span><br><span class="line">hello</span><br><span class="line"></span><br><span class="line">-v # 显示未匹配到的内容</span><br><span class="line">[root@hadoop10 opt]# grep -iv 'HELLO' word.txt  </span><br><span class="line">hadoop linux</span><br><span class="line"></span><br><span class="line">grep -E  ===&gt; egrep</span><br></pre></td></tr></table></figure>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">  命令1 | 命令2 # 命令1的输出是命令2的输入</span><br><span class="line"></span><br><span class="line">[root@hadoop10 opt]# ll | grep '.*\.txt'</span><br><span class="line">.* #表示零个或多个任意字符</span><br><span class="line">\. #表示转义</span><br><span class="line"></span><br><span class="line">[root@hadoop10 opt]# ll | grep '.\+txt'  </span><br><span class="line">\+ #表示将实体符号+转义成正则的数量词</span><br><span class="line"></span><br><span class="line">在遇到pattern的地方，*就是正则符号 </span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">[root@hadoop10 opt]# rm -rf *.txt</span><br><span class="line">此时的*就是通配符</span><br><span class="line"></span><br><span class="line">echo 123456 | passwd --stdin java</span><br></pre></td></tr></table></figure>
<h2 id="追加和重定向-覆盖"><a href="#追加和重定向-覆盖" class="headerlink" title="追加和重定向(覆盖)"></a>追加和重定向(覆盖)</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt; 追加</span></span><br><span class="line">[root@hadoop10 opt]# echo "hello123" &gt;&gt; java.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">重定向(覆盖)</span></span><br><span class="line"></span><br><span class="line">[root@hadoop10 opt]# cat java.txt </span><br><span class="line">java123</span><br><span class="line">hello123</span><br><span class="line">[root@hadoop10 opt]# echo "ssssb" &gt; java.txt </span><br><span class="line">[root@hadoop10 opt]# cat java.txt </span><br><span class="line">ssssb</span><br></pre></td></tr></table></figure>
<h2 id="文件的权限UGO"><a href="#文件的权限UGO" class="headerlink" title="文件的权限UGO"></a>文件的权限UGO</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"> rwx 			 rwx 				rwx</span><br><span class="line">所属用户的权限   所属用户组的权限     其他用户的权限</span><br><span class="line"></span><br><span class="line">修改文件的权限：</span><br><span class="line">u: user</span><br><span class="line">g: group</span><br><span class="line">o: other</span><br><span class="line">a: all</span><br><span class="line">+ 增加权限</span><br><span class="line">- 取消权限</span><br><span class="line">chmod u+x  文件/目录</span><br><span class="line"></span><br><span class="line">文件权限的数字表示法：</span><br><span class="line">rwx</span><br><span class="line">000   -- 0</span><br><span class="line">111   -- 7</span><br><span class="line">4 2 1 </span><br><span class="line"></span><br><span class="line">chmod 764 11.txt</span><br><span class="line"></span><br><span class="line">注意：---权限是针对是否可以操作文件/目录的内容而言的</span><br><span class="line">针对文件：</span><br><span class="line">  r: 表示可以查看文件的内容</span><br><span class="line">  w: 表示可以编辑文件内容</span><br><span class="line">  x: 文件可以被执行。一般用于脚本</span><br><span class="line"> </span><br><span class="line"> 针对文件夹：</span><br><span class="line">  r: 表示可以查看目录下的内容。比如可以使用ls</span><br><span class="line">  w：表示可以在目录中创建文件及文件夹</span><br><span class="line">  x: 表示的可以进入该目录</span><br></pre></td></tr></table></figure>
<h2 id="更改文件的用户及用户组"><a href="#更改文件的用户及用户组" class="headerlink" title="更改文件的用户及用户组"></a>更改文件的用户及用户组</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chown 用户:用户组 文件  #修改文件的所属用户及组</span><br></pre></td></tr></table></figure>
<h2 id="打包和压缩"><a href="#打包和压缩" class="headerlink" title="打包和压缩"></a>打包和压缩</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">打包：</span><br><span class="line">   tar -cvf xx.tar 1.txt 2.txt</span><br><span class="line">   c: create</span><br><span class="line">   v: 显示打包过程信息</span><br><span class="line">   f: 文件</span><br><span class="line"> </span><br><span class="line">解包:</span><br><span class="line">  tar -xvf xx.tar</span><br><span class="line">  x: 解包</span><br><span class="line">  </span><br><span class="line">---------------------------------------</span><br><span class="line">压缩：</span><br><span class="line">   zip aa.zip xx.tar</span><br><span class="line">解压：</span><br><span class="line">  unzip aa.zip</span><br><span class="line">  </span><br><span class="line"> bzip2 文件</span><br><span class="line"> gzip 文件</span><br><span class="line"> gunzip xx.tar.gz  解压</span><br><span class="line"> </span><br><span class="line">打包并压缩：</span><br><span class="line"> [root@hadoop10 data]# tar -zcvf xx.tar.gz 1.txt 2.txt 3.txt </span><br><span class="line">解压并解包：</span><br><span class="line">[root@hadoop10 data]# tar -zxvf xx.tar.gz </span><br><span class="line"></span><br><span class="line">tar -zxvf jdk-8u144-linux-x64.tar.gz -C apps/</span><br><span class="line">-C:指定解压到哪里</span><br></pre></td></tr></table></figure>
<h2 id="软连接"><a href="#软连接" class="headerlink" title="软连接"></a>软连接</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@hadoop10 apps]# ln -s jdk1.8.0_144/ jdk</span><br><span class="line">jdk -&gt; jdk1.8.0_144/</span><br></pre></td></tr></table></figure>
<h2 id="rpm包的安装"><a href="#rpm包的安装" class="headerlink" title="rpm包的安装"></a>rpm包的安装</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">安装</span></span><br><span class="line">    rpm -ivh xx.rpm</span><br><span class="line">    -i:install 安装</span><br><span class="line">    -v:显示安装过程</span><br><span class="line">    -h:显示安装进度</span><br><span class="line">    </span><br><span class="line"><span class="meta">#</span><span class="bash">查询安装程序的package信息</span></span><br><span class="line">    -q  --query</span><br><span class="line">	-f, --file              query/verify package(s) owning file</span><br><span class="line"></span><br><span class="line">[root@hadoop10 bin]# rpm -qf /usr/java</span><br><span class="line">    filesystem-2.4.30-3.el6.x86_64</span><br><span class="line">    jdk1.8.0_131-1.8.0_131-fcs.x86_64</span><br><span class="line">   </span><br><span class="line"><span class="meta">#</span><span class="bash">卸载</span></span><br><span class="line">	-e, --erase=&lt;package&gt;+           erase (uninstall) package</span><br><span class="line">	[root@hadoop10 bin]# rpm -ev  jdk1.8.0_131-1.8.0_131-fcs.x86_64</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询所有安装的package信息</span></span><br><span class="line">[root@hadoop10 bin]# rpm -qa | grep -i mysql</span><br><span class="line"> mysql-libs-5.1.71-1.el6.x86_64</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 更改安装目录</span></span><br><span class="line">[root@hadoop10 opt]# rpm -ivh --prefix=/opt/java/ jdk-8u131-linux-x64.rpm</span><br><span class="line"></span><br><span class="line">rpm在安装或卸载的时候如果有其他的依赖包，需要先卸载依赖或者添加一个选项 --nodeps</span><br></pre></td></tr></table></figure>
<h2 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">使用yum的前提是可以上网</span><br><span class="line">rpm相当于下载到本地的jar</span><br><span class="line">yum相当于maven</span><br><span class="line">yum 也提供了一个库，里面存放了rpm</span><br><span class="line">如果不能上外网，是可以搭建本地yum源。</span><br></pre></td></tr></table></figure>
<h3 id="更改yum源"><a href="#更改yum源" class="headerlink" title="更改yum源"></a>更改yum源</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">1、进入到/etc/yum.repos.d/目录下，备份之前的CentOS-Base.repo地址。</span><br><span class="line">	cd /etc/yum.repos.d/</span><br><span class="line">	mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">2、下载阿里云yum源</span><br><span class="line">wget -O CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br><span class="line">	</span><br><span class="line">3、将服务器上的软件包信息缓存到本地,以提高搜索安装软件的速度</span><br><span class="line">	yum makecache</span><br></pre></td></tr></table></figure>
<h3 id="yum-命令"><a href="#yum-命令" class="headerlink" title="yum 命令"></a>yum 命令</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum list: 列出yum中可以安装的package</span><br><span class="line">yum list installed:查询已安装的程序</span><br></pre></td></tr></table></figure>
    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    
</div>
    <div class="footer" id="footer">
    <p>Copyright © 2020 <a class="flink" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>-<a class="flink" href="https://github.com/sanjinhub/hexo-theme-geek" target="_blank" rel="noopener">Geek</a>.
        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
<!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="CmCti21ooOOIzFOhEyFkFvR0-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="FqiyUqbg7McKN2eG0MCewupf">
<script src="/libs/jquery.min.js"></script>
<script src="/libs/highlight/highlight.pack.js"></script>
<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script src="/js/js.js"></script>
<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
</body>

</html>